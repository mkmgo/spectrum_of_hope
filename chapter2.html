<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Story Template</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="light">
    <button id="theme-toggle">Switch to Dark Mode</button>

    <main class="story-container">
        <article class="story-block">
            <figure class="story-media">
                <picture>
                    <source srcset="https://res.cloudinary.com/dqwm4pdbz/image/upload/v1763824458/IMG_1583_vqzexl.webp" type="image/webp">
                    <img 
                        src="https://res.cloudinary.com/dqwm4pdbz/image/upload/v1763824458/IMG_1583_vqzexl.jpg" 
                        alt="A compelling visual for the story" 
                        loading="lazy"
                    >
                </picture>
                <figcaption>The title image illustrating the main point.</figcaption>
            </figure>

            <section class="story-text">
                <h1>Story 2 : The Chronicle of Flex and Flow</h1>
                <p class="story-intro">
                    Welcome to the first chapter of our responsive narrative. We're using **Flexbox** to ensure the media and text flow seamlessly, whether you're on a phone, tablet, or desktop.
                </p>
                <p>
                    Responsiveness is key. When the screen is wide, the image and text sit side-by-side. When the screen narrows (like on a mobile device), they stack vertically. This is achieved entirely with a few lines of CSS Flexbox and a media query.
                </p>
                <p>
                    Furthermore, the entire color scheme (background, text, links) is controlled by **CSS Custom Properties**. By changing one variable on the `body` element, we instantly switch between light and dark modes.
                </p>
            </section>
        </article>
    </main>

    <script>
        // Simple JavaScript for Theme Toggle
        const toggleButton = document.getElementById('theme-toggle');
        const body = document.body;

        toggleButton.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            if (currentTheme === 'light') {
                body.setAttribute('data-theme', 'dark');
                toggleButton.textContent = 'Switch to Light Mode';
            } else {
                body.setAttribute('data-theme', 'light');
                toggleButton.textContent = 'Switch to Dark Mode';
            }
        });

        // Set initial preference based on system
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (prefersDark) {
            body.setAttribute('data-theme', 'dark');
            toggleButton.textContent = 'Switch to Light Mode';
        }
    </script>
</body>
</html>